# Agent Mode System - Overview

## –û–≥–ª—è–¥

–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–µ–∂–∏–º–∞–º–∏ —Ä–æ–±–æ—Ç–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –∑ —Ç—Ä—å–æ–º–∞ —Ä—ñ–≤–Ω—è–º–∏ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –ø–æ–≤–Ω–æ—é –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é dry-run –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –æ–ø–µ—Ä–∞—Ü—ñ–π.

**–î–∞—Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è:** 27 –≥—Ä—É–¥–Ω—è 2025  
**–í–µ—Ä—Å—ñ—è:** 2.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–æ, –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ —Ç–∞ —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ

**–ö–ª—é—á–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- üîí –¢—Ä–∏ —Ä—ñ–≤–Ω—ñ –±–µ–∑–ø–µ–∫–∏ (TEST, SAFE_TEST, PROD)
- üéØ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π AgentModeResolver
- üîÑ –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∞ –ª–æ–≥—ñ–∫–∞ –¥–ª—è –≤—Å—ñ—Ö –∞–≥–µ–Ω—Ç—ñ–≤
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ dry-run –¥–ª—è SummaryAgent, TaggingAgent, BulkTaggingService
- üìä –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ audit trail

---

## –†–µ–∂–∏–º–∏ —Ä–æ–±–æ—Ç–∏

### 1. TEST (–ê–±—Å–æ–ª—é—Ç–Ω–æ –±–µ–∑–ø–µ—á–Ω–∏–π)

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ —Ä–∏–∑–∏–∫—É –∑–º—ñ–Ω —É Confluence

**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:**
- ‚úÖ –ì–µ–Ω–µ—Ä—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ (summary, tags)
- ‚ùå **–ù–ï** –∑–∞–ø–∏—Å—É—î –∑–º—ñ–Ω–∏ –≤ Confluence
- ‚úÖ –ü—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –∑ whitelist —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏
- ‚úÖ –ü–æ–≤–µ—Ä—Ç–∞—î `status=dry_run`

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```dotenv
AGENT_MODE=TEST
SUMMARY_AGENT_TEST_PAGE=19713687690,19699862097
```

**–ü—Ä–∏–∫–ª–∞–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É:**
```json
{
  "status": "dry_run",
  "summary_added": false,
  "message": "TEST mode - summary NOT written to Confluence"
}
```

---

### 2. SAFE_TEST (–ù–∞–ø—ñ–≤-–±–µ–∑–ø–µ—á–Ω–∏–π)

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ –Ω–∞ staging –∑ –æ–±–º–µ–∂–µ–Ω–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏

**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:**
- ‚úÖ –ì–µ–Ω–µ—Ä—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
- ‚úÖ –ó–∞–ø–∏—Å—É—î –∑–º—ñ–Ω–∏ **–¢–Ü–õ–¨–ö–ò** –¥–ª—è whitelist —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- ‚ùå –ë–ª–æ–∫—É—î –≤—Å—ñ —ñ–Ω—à—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- ‚úÖ –†–µ–∞–ª—å–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è Confluence (–¥–ª—è whitelist)

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```dotenv
AGENT_MODE=SAFE_TEST
SUMMARY_AGENT_TEST_PAGE=19713687690,19699862097
```

**–ü—Ä–∏–∫–ª–∞–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É:**
```json
{
  "status": "updated",
  "summary_added": true,
  "page_id": "19713687690"
}
```

---

### 3. PROD (–ü–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø)

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** Production —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:**
- ‚úÖ –ì–µ–Ω–µ—Ä—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
- ‚úÖ –ó–∞–ø–∏—Å—É—î –∑–º—ñ–Ω–∏ –¥–ª—è **–±—É–¥—å-—è–∫–∏—Ö** —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- ‚úÖ Whitelist —ñ–≥–Ω–æ—Ä—É—î—Ç—å—Å—è
- ‚úÖ –ü–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```dotenv
AGENT_MODE=PROD
```

---

## –î–∏–≤—ñ—Ç—å—Å—è —Ç–∞–∫–æ–∂

- [Agent Mode Router](./agent-mode-router.md) ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ —Ä–µ–∂–∏–º–∞–º–∏
- [Agent Mode Lifecycle](./agent-mode-lifecycle.md) ‚Äî —Ü–∏–∫–ª –∂–∏—Ç—Ç—è –∞–≥–µ–Ω—Ç—ñ–≤
- [Agent Mode Error Handling](./agent-mode-errors.md) ‚Äî –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ debug

---

**–í–µ—Ä—Å—ñ—è:** 2.0  
**–î–∞—Ç–∞:** 2025-12-27
